{% extends "base.twig" %}

{% block title %}Threads{% endblock title %}

{% block content %}
    {% if user %}
        <div class="field">
            <div class="control">
                <a class="button is-link" href="/threads/new">
                    Create a thread
                </a>
            </div>
        </div>
    {% endif %}

    <form method="get" action="/threads/search">
        <div class="field has-addons">
            <div class="control is-expanded">
                <input class="input" type="text" placeholder="Search thread titles" name="search">
            </div>
            <div class="control">
                <input class="button is-info" type="submit" value="Search">
            </div>
        </div>
    </form>

    <table class="table is-striped is-hoverable is-fullwidth">
        <thead>
        <tr>
            <th>Title</th>
            <th>Created</th>
            <th>Last Post</th>
        </tr>
        </thead>
        <tbody>
        {% for t in threads %}
            <tr>
                <td>{{ t.title }}</td>
                <td>time<br/>by {{ t.creator.displayName }}</td>
                <td>lastpost</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
{% endblock %}