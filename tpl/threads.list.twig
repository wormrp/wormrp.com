{% extends "base.twig" %}

{% block title %}Threads{% endblock title %}

{% block content %}
    {% if user %}
        <div class="field">
            <div class="control">
                <a class="button is-link" href="/threads/new">
                    Create a thread
                </a>
            </div>
        </div>
    {% endif %}

    <form method="get" action="/threads/search">
        <div class="field has-addons">
            <div class="control is-expanded">
                <input class="input" type="text" placeholder="Search thread titles" name="search">
            </div>
            <div class="control">
                <input class="button is-info" type="submit" value="Search">
            </div>
        </div>
    </form>

    <table class="table is-striped is-hoverable is-fullwidth">
        <thead>
        <tr>
            <th>Title</th>
            <th>Poster</th>
            <th>Replies</th>
            <th class="is-narrow">Created</th>
            <th class="is-narrow">Last Post</th>
        </tr>
        </thead>
        <tbody>
        {{ threads.renderItems("threads.item") }}
        </tbody>
    </table>
{% endblock %}